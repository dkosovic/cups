diff -up cups-1.4b1/Makedefs.in.build cups-1.4b1/Makedefs.in
--- cups-1.4b1/Makedefs.in.build	2008-10-04 06:57:54.000000000 +0100
+++ cups-1.4b1/Makedefs.in	2008-11-11 16:36:30.000000000 +0000
@@ -123,7 +123,7 @@ ARCHFLAGS	=	@ARCHFLAGS@
 ARFLAGS		=	@ARFLAGS@
 BACKLIBS	=	@BACKLIBS@
 CFLAGS		=	@CPPFLAGS@ @CFLAGS@
-COMMONLIBS	=	@LIBS@
+COMMONLIBS	=	@LIBS@ $(DNSSDLIBS)
 CUPSDLIBS	=	@CUPSDLIBS@
 CXXFLAGS	=	@CPPFLAGS@ @CXXFLAGS@
 CXXLIBS		=	@CXXLIBS@
diff -up cups-1.4b1/scheduler/dirsvc.c.build cups-1.4b1/scheduler/dirsvc.c
--- cups-1.4b1/scheduler/dirsvc.c.build	2008-11-11 16:36:38.000000000 +0000
+++ cups-1.4b1/scheduler/dirsvc.c	2008-11-11 16:39:09.000000000 +0000
@@ -1948,7 +1948,7 @@ cupsdUpdateDNSSDName(void)
 
     WebIFRef = DNSSDRef;
     if ((error = DNSServiceRegister(&WebIFRef,
-				    kDNSServiceFlagsShareConnection,
+				    0,
 				    0, webif, "_http._tcp", NULL,
 				    NULL, htons(DNSSDPort), 7,
 				    "\006path=/", dnssdRegisterCallback,
@@ -2622,7 +2622,7 @@ dnssdRegisterPrinter(cupsd_printer_t *p)
     do
     {
       p->ipp_ref = DNSSDRef;
-      if ((se = DNSServiceRegister(&p->ipp_ref, kDNSServiceFlagsShareConnection,
+      if ((se = DNSServiceRegister(&p->ipp_ref, 0,
                                    0, name, regtype, domain, NULL,
 				   htons(DNSSDPort), ipp_len, ipp_txt,
 				   dnssdRegisterCallback,
@@ -2693,7 +2693,7 @@ dnssdRegisterPrinter(cupsd_printer_t *p)
 
       p->printer_ref = DNSSDRef;
       if ((se = DNSServiceRegister(&p->printer_ref,
-                                   kDNSServiceFlagsShareConnection,
+                                   0,
 				   0, name, "_printer._tcp", domain, NULL,
 				   htons(515), printer_len, printer_txt,
 				   dnssdRegisterCallback,
